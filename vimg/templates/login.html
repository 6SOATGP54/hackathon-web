{% extends 'base.html' %}

{% block title %}V-IMG - Login{% endblock %}

{% block custom_main %}
<div class="main-ghost"></div>
<div class="div-login row grey darken-4">
    <br><br>
    <div class="center grey darken-4"><i class="large material-icons">account_circle</i></div>

    <form class="col s12 form-login" method="POST" action="{{ url_for('login') }}">
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">email</i>
                <input id="email" type="email" name="email" minlength="6" maxlength="100" class="white-text validate"
                    required>
                <label for="email">E-mail</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">lock</i>
                <input id="password" type="password" name="password" minlength="8" maxlength="254"
                    class="white-text validate" required>
                <label for="password">Senha</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12 center">
                <button class="btn btn-large waves-effect waves-light pink darken-4" type="submit"
                    name="action">Login</button>
            </div>
            <div class="input-field col s12 center">
                NÃ£o possui uma conta? <a href="{{ url_for('signup') }}">Cadastre-se</a>
            </div>
        </div>
    </form>
</div>
{% endblock %}

{% block main %}
{% for i in range(5) %}
<br>
{% endfor %}
{% endblock %}

{% block extra_body %}
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
{% if category == 'success' %}
<script>M.toast({ html: '{{ message }}', classes: 'green accent-3 black-text' })()</script>
{% elif category == 'error' %}
<script>M.toast({ html: '{{ message }}', classes: 'red accent-4 white-text' })()</script>
{% endif %}
{% endfor %}
{% endif %}
{% endwith %}
{% endblock %}